
Should the line
    if: ${{ github.ref == 'refs/heads/main' }}
in main.yml's sdlc-control-gate job be moved into the approve-deployment-to-beta job?
No, because the kosli-attests will not be visible.

Are test/server/lib and test/client/lib identical? If so collapse duplication?
They are, except for metrics.rb

Fix sonarscan vulnerabilities (or bypass)

When check_coverage produces incorrect zero values for, eg, app.lines.total raise an error instead of passing quietly.
  This was caused by an incorrect grouping in coverage.rb, eg add_group(code_tab) { |src| src.filename !~ test_re }
  See if a count of the matches can be kept, and if it is zero, raise an exception.

